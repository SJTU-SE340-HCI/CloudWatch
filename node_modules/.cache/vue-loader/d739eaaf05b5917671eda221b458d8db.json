{"remainingRequest":"/Users/liuzhengwei/SJTU/HCI/CloudWatch/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuzhengwei/SJTU/HCI/CloudWatch/src/components/record.vue?vue&type=style&index=0&id=be0ab43e&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/liuzhengwei/SJTU/HCI/CloudWatch/src/components/record.vue","mtime":1593099096645},{"path":"/Users/liuzhengwei/SJTU/HCI/CloudWatch/node_modules/css-loader/index.js","mtime":1589115288939},{"path":"/Users/liuzhengwei/SJTU/HCI/CloudWatch/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1589115292369},{"path":"/Users/liuzhengwei/SJTU/HCI/CloudWatch/node_modules/postcss-loader/src/index.js","mtime":1589115290391},{"path":"/Users/liuzhengwei/SJTU/HCI/CloudWatch/node_modules/stylus-loader/index.js","mtime":1589115291975},{"path":"/Users/liuzhengwei/SJTU/HCI/CloudWatch/node_modules/cache-loader/dist/cjs.js","mtime":1589115288536},{"path":"/Users/liuzhengwei/SJTU/HCI/CloudWatch/node_modules/vue-loader/lib/index.js","mtime":1589115292369}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.container{\n    width: 100%;\n    height: 100%;\n  }\n",{"version":3,"sources":["record.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA","file":"record.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <el-button type=\"primary\"  @click=\"beginRecord\" v-if=\"!isRecording\" >录制</el-button>\n    <el-button type=\"primary\"  @click=\"finishRecord\" v-else>结束录制</el-button>\n    <el-button type=\"primary\" @click=\"presentRecord\">回放</el-button>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    data() {\n        return {\n            isRecording:false,\n        }\n    },\n    methods: {\n        beginRecord() {\n            this.isRecording=true\n            /*\n            将开始时间存入vuex\n            将录制中状态存入vuex，让弹幕发送时将弹幕信息存入vuex\n            开始就自动打开连麦按钮，用户可以选择关闭\n            */\n            this.$store.commit('setRecordState',true)\n            this.$store.commit('setBeginRecordTime')\n            this.$store.commit('setVideoRoomId', '12')\n            this.$store.commit('clearBarrage')\n        },\n        finishRecord() {\n            this.isRecording=false\n            /*\n            结束连麦\n            将vuex中的弹幕消息发送到后端\n            */\n            this.$store.commit('setRecordState',false)\n\n            // 将vuex中的弹幕消息发送到后端\n            axios({\n            method: 'post',\n            url: 'http://47.103.30.166:8020/Room/textRecord/Receive',\n            headers: {}, \n            params: {\n                video_id: 12\n            },\n            data: this.$store.getters.getBarrages\n            });\n\n\n        },\n        presentRecord() {\n            /*\n            从后端拿到弹幕消息\n            根据当前开始的时间轮询弹幕消息的队列\n            */\n        }\n    }\n}\n</script>\n\n<style lang='stylus' scoped>\n.container{\n    width: 100%;\n    height: 100%;\n  }\n</style>"]}]}