{"remainingRequest":"D:\\HCI\\CloudWatch\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HCI\\CloudWatch\\src\\components\\message\\message-elements\\group-system-notice-element.vue?vue&type=style&index=0&id=da6069c6&lang=stylus&scoped=true&","dependencies":[{"path":"D:\\HCI\\CloudWatch\\src\\components\\message\\message-elements\\group-system-notice-element.vue","mtime":1589001011142},{"path":"D:\\HCI\\CloudWatch\\node_modules\\css-loader\\index.js","mtime":1589000995999},{"path":"D:\\HCI\\CloudWatch\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1589001009413},{"path":"D:\\HCI\\CloudWatch\\node_modules\\postcss-loader\\src\\index.js","mtime":1589001002858},{"path":"D:\\HCI\\CloudWatch\\node_modules\\stylus-loader\\index.js","mtime":1589001008089},{"path":"D:\\HCI\\CloudWatch\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1589000993815},{"path":"D:\\HCI\\CloudWatch\\node_modules\\vue-loader\\lib\\index.js","mtime":1589001009411}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.card {\r\n  background: #fff;\r\n  padding: 12px;\r\n  border-radius: 5px;\r\n  width: 300px;\r\n\r\n  .card-header {\r\n    font-size: 18px;\r\n  }\r\n\r\n  .card-content {\r\n    font-size: 14px;\r\n  }\r\n}\r\n",{"version":3,"sources":["group-system-notice-element.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"group-system-notice-element.vue","sourceRoot":"src/components/message/message-elements","sourcesContent":["<template>\r\n  <message-bubble :isMine=\"false\" :message=message>\r\n    <div class=\"group-system-element-wrapper\">\r\n      {{ text }}\r\n      <el-button v-if=\"isJoinGroupRequest\" type=\"text\" @click=\"showDialog = true\">处理</el-button>\r\n      <el-dialog title=\"处理加群申请\" :visible.sync=\"showDialog\" width=\"30%\">\r\n        <el-form ref=\"form\" v-model=\"form\" label-width=\"100px\">\r\n          <el-form-item label=\"处理结果：\">\r\n            <el-radio-group v-model=\"form.handleAction\">\r\n              <el-radio label=\"Agree\">同意</el-radio>\r\n              <el-radio label=\"Reject\">拒绝</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-form-item label=\"附言：\">\r\n            <el-input\r\n              type=\"textarea\"\r\n              resize=\"none\"\r\n              :rows=\"3\"\r\n              placeholder=\"请输入附言\"\r\n              v-model=\"form.handleMessage\"\r\n            />\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"showDialog = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"handleGroupApplication\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </div>\r\n  </message-bubble>\r\n</template>\r\n\r\n<script>\r\nimport { Dialog, Form, FormItem, RadioGroup, Radio } from 'element-ui'\r\nimport MessageBubble from '../message-bubble'\r\nimport { translateGroupSystemNotice } from '../../../utils/common'\r\n\r\nexport default {\r\n  name: 'GroupSystemNoticeElement',\r\n  props: {\r\n    payload: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    message: {\r\n      type: Object,\r\n      required: false\r\n    }\r\n  },\r\n  components: {\r\n    ElDialog: Dialog,\r\n    ElForm: Form,\r\n    ElFormItem: FormItem,\r\n    ElRadioGroup: RadioGroup,\r\n    ElRadio: Radio,\r\n    MessageBubble\r\n  },\r\n  data() {\r\n    return {\r\n      showDialog: false,\r\n      form: {\r\n        handleAction: 'Agree',\r\n        handleMessage: ''\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    text() {\r\n      return translateGroupSystemNotice(this.message)\r\n    },\r\n    title() {\r\n      if (this.message.type === this.TIM.TYPES.MSG_GRP_SYS_NOTICE) {\r\n        return '群系统通知'\r\n      }\r\n      return '系统通知'\r\n    },\r\n    isJoinGroupRequest() {\r\n      return this.payload.operationType === 1\r\n    }\r\n  },\r\n  methods: {\r\n    handleGroupApplication() {\r\n      this.tim\r\n        .handleGroupApplication({\r\n          handleAction: this.form.handleAction,\r\n          handleMessage: this.form.handleMessage,\r\n          message: this.message\r\n        })\r\n        .then(() => {\r\n          this.showDialog = false\r\n          this.$store.commit('removeMessage', this.message)\r\n        })\r\n        .catch(error => {\r\n          this.$store.commit('showMessage', {\r\n            type: 'error',\r\n            message: error.message\r\n          })\r\n          this.showDialog = false\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.card {\r\n  background: #fff;\r\n  padding: 12px;\r\n  border-radius: 5px;\r\n  width: 300px;\r\n\r\n  .card-header {\r\n    font-size: 18px;\r\n  }\r\n\r\n  .card-content {\r\n    font-size: 14px;\r\n  }\r\n}\r\n</style>\r\n"]}]}